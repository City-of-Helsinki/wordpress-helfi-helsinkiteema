"use strict";function jsCloseInit(){var e=document.querySelectorAll(".js-close");if(0<e.length)for(var t=0;t<e.length;t++)jsCloseHandler(e[t])}function jsCloseHandler(e){e.addEventListener("click",jsCloseClick)}function jsCloseClick(e){e.preventDefault();var t,o=e.currentTarget;o&&(e=controllerElement(t=o.dataset.close?document.getElementById(o.dataset.close):o.parentElement),o&&e&&jsToggleClose(e,t))}function setFocus(e){try{e.focus()}catch(e){}return document.activeElement===e}function firstFocusableChild(e){var t=e.querySelector(".menu li a");if(t)return t;t=e.querySelector("input");return t||e.firstElementChild}function lastFocusableChild(e){return e.lastElementChild}function focusFirstChild(e){for(var t=0;t<e.childNodes.length;t++)if(setFocus(e.childNodes[t])||focusFirstChild(e.childNodes[t]))return!0;return null}function controlledElement(e){return document.getElementById(e.getAttribute("aria-controls"))}function controllerElement(e){return e.id?document.querySelector('[aria-controls="'+e.id+'"]'):null}function jsEvent(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t}function forCallbackLoop(e,t){if(e&&0<e.length)for(var o=0;o<e.length;o++)t(e[o],o)}function jsLoadMoreInit(){var e=document.querySelectorAll(".js-load-more");if(0<e.length)for(var t=0;t<e.length;t++)jsLoadMoreHandler(e[t])}function jsLoadMoreHandler(e){e.addEventListener("click",jsLoadMore)}function jsLoadMore(e){e.preventDefault();var t=e.currentTarget;if(t.disabled)return!1;t.disabled=!0;var o=document.querySelector(t.dataset.loadMoreTarget);if(!o)return!1;var n=JSON.parse(t.dataset.loadMore);if(!n)return!1;var l=t.dataset.page,e={action:n.action,nonce:n.nonce,query:n.query,page:l,type:o.classList.contains("grid")?"grid":"default",offset:t.getAttribute("data-offset"),per_page:t.getAttribute("data-per-page"),is_front_page:n.is_front_page,is_home:n.is_home};jQuery.post(n.endpoint,e,function(e){e.success?(o.insertAdjacentHTML("beforeend",e.data.html),eventLoadMoreRendered(o),l++,t.setAttribute("data-page",l),e.data.end?t.style.display="none":t.disabled=!1,o.children[o.children.length-e.data.count].querySelector("a").focus()):t.style.display="none"})}function eventLoadMoreRendered(e){var t=jsEvent("loadMoreRendered");e.dispatchEvent(t)}jsCloseInit(),jsLoadMoreInit();var jsModal={currentModal:null,currentTrigger:null,firstFocusable:null,lastFocusable:null};function jsInitModal(){var e=document.querySelectorAll(".js-modal");if(0<e.length){document.addEventListener("keydown",jsCloseModalOnEsc);for(var t=0;t<e.length;t++)jsModalHandler(e[t])}}function jsModalHandler(e){e.addEventListener("modalOpen",jsModalOpened),e.addEventListener("modalClose",jsModalClosed)}function jsModalTrapFocus(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===jsModal.firstFocusable&&(jsModal.lastFocusable.focus(),e.preventDefault()):document.activeElement===jsModal.lastFocusable&&(jsModal.firstFocusable.focus(),e.preventDefault()))}function jsModalOpened(e){jsModal.currentModal=e.currentTarget,jsModal.currentTrigger=controllerElement(e.currentTarget),jsModal.firstFocusable=firstFocusableChild(jsModal.currentModal),jsModal.lastFocusable=lastFocusableChild(jsModal.currentModal),jsModal.currentModal.addEventListener("keydown",jsModalTrapFocus)}function jsModalClosed(e){jsModal.currentModal.removeEventListener("keydown",jsModalTrapFocus),setFocus(jsModal.currentTrigger),jsModal.currentModal=null,jsModal.currentTrigger=null,jsModal.firstFocusable=null,jsModal.lastFocusable=null}function jsCloseModal(e){var t=controllerElement(e);t?jsToggleClose(t,e):e.classList.remove("active")}function jsCloseModalOnEsc(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&jsCloseActiveModals()}function jsCloseActiveModals(){var e=document.querySelectorAll(".modal.active");if(0<e.length)for(var t=0;t<e.length;t++)jsCloseModal(e[t])}function isModal(e){return e.classList.contains("modal")}function eventModalOpen(e){var t=jsEvent("modalOpen");e.dispatchEvent(t)}function eventModalClose(e){var t=jsEvent("modalClose");e.dispatchEvent(t)}function jsScrollInit(){var e=document.querySelectorAll(".js-scroll");if(0<e.length)for(var t=0;t<e.length;t++)jsScrollHandler(e[t])}function jsScrollHandler(e){e.classList.contains("top")&&e.addEventListener("click",jsScrollTop)}function jsScrollTop(e){e.preventDefault(),window.scroll(0,0)}function jsMenuInit(){forCallbackLoop(document.querySelectorAll(".js-submenu-toggle"),function(t){t.addEventListener("touchstart",function(e){jsSubmenuToggle(e,t)}),t.addEventListener("click",function(e){jsSubmenuToggle(e,t)})}),forCallbackLoop(document.querySelectorAll("#main-menu .menu__item--parent > .link-wrap > a"),function(e){var t=e.closest(".menu__item--parent");e.addEventListener("mouseover",function(e){toggleMouseHoverClass(t,!0)}),t.addEventListener("mouseleave",function(e){toggleMouseHoverClass(t,!1)})}),document.addEventListener("click",closeAllSubmenus)}function jsSubmenuToggle(e,t){e.preventDefault();var o=t.closest(".menu__item");forCallbackLoop(o.parentElement.querySelectorAll(".menu__item.open"),function(e){o!==e&&closeSubmenu(e.querySelector(".js-submenu-toggle"))}),(isMenuItemOpen(o)?closeSubmenu:openSubmenu)(t)}function closeAllSubmenus(e){var t=document.getElementById("main-menu");t.contains(e.target)||forCallbackLoop(t.querySelectorAll(".menu__item.open"),function(e){closeSubmenu(e.querySelector(".js-submenu-toggle"))})}function isMenuItemOpen(e){return e.classList.contains("open")}function closeSubmenu(e){e&&(e.closest(".menu__item").classList.remove("open"),e.setAttribute("aria-expanded","false"))}function openSubmenu(e){e&&(e.closest(".menu__item").classList.add("open"),e.setAttribute("aria-expanded","true"))}function toggleMouseHoverClass(e,t){t?e.classList.add("menu__item--hover"):e.classList.remove("menu__item--hover")}function jsToggleInit(){var e=document.querySelectorAll(".js-toggle");if(0<e.length)for(var t=0;t<e.length;t++)jsToggleHandler(e[t])}function jsToggleHandler(e){e.addEventListener("click",jsToggleClickEvent)}function jsToggleClickEvent(e){e.preventDefault();e=e.currentTarget;null!=e&&jsToggleClick(e)}function jsToggleClick(e){var t=controlledElement(e);("false"===e.getAttribute("aria-expanded")?jsToggleOpen:jsToggleClose)(e,t)}function jsToggleOpen(e,t){closeOtherToggles(e),isModal(t)&&eventModalOpen(t),e.setAttribute("aria-expanded","true"),jsToggleSwapText(e,"expanded"),t.hidden=!1,t.classList.add("active"),ifControlsNoScroll(e)&&fixedDocumentBody()}function jsToggleClose(e,t){isModal(t)&&eventModalClose(t),e.setAttribute("aria-expanded","false"),t.hidden=!0,t.classList.remove("active"),jsToggleSwapText(e,"closed"),ifControlsNoScroll(e)&&scrollableDocumentBody(),e.focus()}function jsToggleSwapText(e,t){var o;e.hasAttribute("data-text")&&e.hasAttribute("data-text-expanded")&&((o=e.querySelector(".text"))&&(o.textContent="expanded"===t?e.getAttribute("data-text-expanded"):e.getAttribute("data-text")))}function ifControlsNoScroll(e){if(e.classList.contains("js-toggle-no-scroll")){var t=e.hasAttribute("data-no-scroll-breakpoint")?parseInt(e.getAttribute("data-no-scroll-breakpoint"),10):0;return"up"===(e.hasAttribute("data-no-scroll-limit")?e.getAttribute("data-no-scroll-limit"):"up")&&screen.width>t||screen.width<t}return!1}function fixedDocumentBody(){document.body.style.position="fixed",document.body.style.top="-".concat(window.scrollY,"px")}jsInitModal(),jsScrollInit(),jsMenuInit(),jsToggleInit();var scrollY=document.body.style.top;function scrollableDocumentBody(){document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(scrollY||"0"))}function closeOtherToggles(e){var t=document.querySelectorAll('.js-toggle[aria-expanded="true"]');if(0<t.length)for(var o=0;o<t.length;o++)e!==t[o]&&jsToggleClick(t[o])}