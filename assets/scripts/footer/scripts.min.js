"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function jsCloseInit(){var e=document.querySelectorAll(".js-close");if(0<e.length)for(var t=0;t<e.length;t++)jsCloseHandler(e[t])}function jsCloseHandler(e){e.addEventListener("click",jsCloseClick)}function jsCloseClick(e){e.preventDefault();var t,n,e=e.currentTarget;e&&(n=controllerElement(t=e.dataset.close?document.getElementById(e.dataset.close):e.parentElement),e)&&n&&jsToggleClose(n,t)}function controlledElement(e){return document.getElementById(e.getAttribute("aria-controls"))}function controllerElement(e){return e.id?document.querySelector('[aria-controls="'+e.id+'"]'):null}function jsEvent(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t}function forCallbackLoop(e,t){if(e&&0<e.length)for(var n=0;n<e.length;n++)t(e[n],n)}function helsinkiGalleryLightbox(e){var l=e.strings,a=e.icons,i=null,s=null;function r(e){var t=function(e){if(e.classList.contains("wp-block-image")||e.classList.contains("wp-caption")&&e.querySelector("img"))return[e];return e.querySelectorAll(".blocks-gallery-item figure, figure .wp-block-image, .gallery-item")}(e);if(0!==t.length&&function(e){if(e.classList.contains("wp-block-image")||e.classList.contains("wp-caption")&&e.querySelector("img")){var t=e.querySelector("a");if(t&&t.querySelector("img"))for(var n=t.getAttribute("href"),o=["jpg","jpg/","png","png/","webp","webp/"],r=0;r<o.length;r++)if(n.endsWith(o[r]))return t;return}return e.querySelector(".blocks-gallery-item > figure > a, figure.wp-block-image > a, .gallery-item > .gallery-icon > a")}(e)){for(var n=t,o=0;o<n.length;o++){r=void 0;var r=n[o];r=r.querySelector("a");r&&r.querySelector("img")&&r.addEventListener("click",c)}t=function(e,t){var n=h("div",["lightbox"]),o=h("div",["lightbox__content"]),r=function(e,t){e=document.createElement(e);return e.innerHTML=t,e}("h2",l.lightboxTitle),e=function(e){if(e.id)return"lightbox-"+e.id;return"lightbox-"+(Date.now()+e.offsetTop+e.clientHeight+e.childElementCount)}(e);n.id=e,r.id=e+"-title",r.classList.add("screen-reader-text"),n.setAttribute("role","dialog"),n.setAttribute("aria-modal","true"),n.setAttribute("aria-labelledby",r.id),M(n,!0),o.append(r),o.append(function(e){for(var t=h("div",["lightbox__images"]),n=0;n<e.length;n++)t.append(function(e){var t=document.createElement("figure"),n=e.querySelector("img"),e=e.querySelector("figcaption");t.append(n.cloneNode()),e&&t.append(e.cloneNode(!0));return M(t,!0),t}(e[n]));return t}(t)),1<t.length&&(o.append(function(){var e=h("div",["lightbox__navigation"]);return e.append(j("prev",a.prev,l.prev,p)),e.append(j("next",a.next,l.next,f)),e}()),o.classList.add("has-navigation"));return o.append(function(e){var t=h("button",["lightbox__close","button-reset"]),n=h("span",["screen-reader-text"]);return t.id="close-"+e,t.type="button",n.innerHTML=l.close,t.setAttribute("aria-controls",e),E(t,!1),t.addEventListener("click",g),t.append(n),t.innerHTML+=a.close,t}(e)),n.append(o),n}(e,t);t.addEventListener("click",u),e.setAttribute("data-lightbox-id",t.id),e.after(t),L(e,"has-lightbox",!0)}}function c(e){e.preventDefault(),t=e.currentTarget,t=t.closest(".wp-block-gallery, .gallery")?t.closest(".wp-block-gallery, .gallery"):t.closest("figure"),t=document.getElementById(t.getAttribute("data-lightbox-id")),o=e.currentTarget.firstElementChild,e=e.currentTarget,i&&i!==t&&m(i),n=y(t),o=o?function(e,t){e=e.querySelector('.lightbox__images img[src="'+t+'"]');return e?e.parentElement:null}(t,o.src):null,b(n,o),M(t,!1),S(t,!0),E(v(t),!0),s=e;var t,n=i=t,o=n.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),r=o[0],l=o[o.length-1];r.focus(),n.addEventListener("keydown",n.kd=function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===r&&(l.focus(),e.preventDefault()):document.activeElement===l&&(r.focus(),e.preventDefault()))})}function u(e){e.target===i&&m(i)}function d(e){i&&("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&m(i)}function g(e){e.preventDefault(),m(e.target.closest(".lightbox"))}function f(e){e.preventDefault(),i&&((e=y(i))?e.nextElementSibling?b(e,e.nextElementSibling):b(e,t(i)):b(null,t(i)))}function p(e){e.preventDefault(),i&&((e=y(i))?e.previousElementSibling?b(e,e.previousElementSibling):b(e,n(i)):b(null,n(i)))}function m(e){var t;M(e,!0),S(e,!1),E(v(e),!1),b(y(e),null),e=s,(t=i).removeEventListener("keydown",t.kd),e.focus(),s=i=null}function b(e,t){e&&(S(e,!1),M(e,!0)),t&&(S(t,!0),M(t,!1),e=t.closest(".lightbox__content"),t=t.firstElementChild.naturalWidth,e.style.maxWidth=t+"px")}function v(e){return e.querySelector(".lightbox__close")}function y(e){return e.querySelector(".lightbox__images .is-active")}function t(e){return e.querySelector(".lightbox__images figure")}function n(e){e=e.querySelectorAll(".lightbox__images figure");return e[e.length-1]}function h(e,t){var n,e=document.createElement(e);return(n=e.classList).add.apply(n,_toConsumableArray(t)),e}function j(e,t,n,o){var e=h("button",["lightbox__"+e,"hds-button","hds-button--small"]),r=h("span",["screen-reader-text"]);return e.type="button",r.innerHTML=n,e.addEventListener("click",o),e.append(r),e.innerHTML+=t,e}function L(e,t,n){n?e.classList.add(t):e.classList.remove(t)}function S(e,t){L(e,"is-active",t)}function E(e,t){t?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")}function M(e,t){e.hidden=!!t}return{init:function(e,t){if(0!==e.length||0!==t.length){for(var n=0;n<e.length;n++)r(e[n]);for(var o=0;o<t.length;o++)r(t[o]);document.addEventListener("keydown",d)}}}}jsCloseInit();var HelsinkiGalleryLightbox=helsinkiGalleryLightbox(helsinkiTheme);function jsLoadMoreInit(){var e=document.querySelectorAll(".js-load-more");if(0<e.length)for(var t=0;t<e.length;t++)jsLoadMoreHandler(e[t])}function jsLoadMoreHandler(e){e.addEventListener("click",jsLoadMore)}function jsLoadMore(e){e.preventDefault();var t=e.currentTarget;if(t.disabled)return!1;t.disabled=!0;var n,o,r=document.querySelector(t.dataset.loadMoreTarget);return!!r&&!!(e=JSON.parse(t.dataset.loadMore))&&(n=t.dataset.page,o={action:e.action,nonce:e.nonce,query:e.query,page:n,type:r.classList.contains("grid")?"grid":"default",offset:t.getAttribute("data-offset"),per_page:t.getAttribute("data-per-page"),is_front_page:e.is_front_page,is_home:e.is_home},void jQuery.post(e.endpoint,o,function(e){e.success?(r.insertAdjacentHTML("beforeend",e.data.html),eventLoadMoreRendered(r),n++,t.setAttribute("data-page",n),e.data.end?t.style.display="none":t.disabled=!1,r.children[r.children.length-e.data.count].querySelector("a").focus()):t.style.display="none"}))}function eventLoadMoreRendered(e){var t=jsEvent("loadMoreRendered");e.dispatchEvent(t)}HelsinkiGalleryLightbox.init(document.querySelectorAll(".wp-block-gallery, .gallery"),document.querySelectorAll(":not(.wp-block-gallery, .gallery) > .wp-block-image, .wp-caption")),jsLoadMoreInit();var jsModal={currentModal:null,currentTrigger:null,firstFocusable:null,lastFocusable:null};function jsInitModal(){var e=document.querySelectorAll(".js-modal");if(0<e.length){document.addEventListener("keydown",jsCloseModalOnEsc);for(var t=0;t<e.length;t++)jsModalHandler(e[t])}}function jsModalHandler(e){e.addEventListener("modalOpen",jsModalOpened),e.addEventListener("modalClose",jsModalClosed)}function jsModalTrapFocus(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===jsModal.firstFocusable&&(jsModal.lastFocusable.focus(),e.preventDefault()):document.activeElement===jsModal.lastFocusable&&(jsModal.firstFocusable.focus(),e.preventDefault()))}function jsModalOpened(e){jsModal.currentModal=e.currentTarget,jsModal.currentTrigger=controllerElement(e.currentTarget),jsModal.firstFocusable=firstFocusableChild(jsModal.currentModal),jsModal.lastFocusable=lastFocusableChild(jsModal.currentModal),jsModal.currentModal.addEventListener("keydown",jsModalTrapFocus)}function jsModalClosed(e){jsModal.currentModal.removeEventListener("keydown",jsModalTrapFocus),setFocus(jsModal.currentTrigger),jsModal.currentModal=null,jsModal.currentTrigger=null,jsModal.firstFocusable=null,jsModal.lastFocusable=null}function jsCloseModal(e){var t=controllerElement(e);t?jsToggleClose(t,e):e.classList.remove("active")}function jsCloseModalOnEsc(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&jsCloseActiveModals()}function jsCloseActiveModals(){var e=document.querySelectorAll(".modal.active");if(0<e.length)for(var t=0;t<e.length;t++)jsCloseModal(e[t])}function isModal(e){return e.classList.contains("modal")}function eventModalOpen(e){var t=jsEvent("modalOpen");e.dispatchEvent(t)}function eventModalClose(e){var t=jsEvent("modalClose");e.dispatchEvent(t)}function jsScrollInit(){var e=document.querySelectorAll(".js-scroll");if(0<e.length)for(var t=0;t<e.length;t++)jsScrollHandler(e[t])}function jsScrollHandler(e){e.classList.contains("top")&&e.addEventListener("click",jsScrollTop)}function jsScrollTop(e){e.preventDefault(),window.scroll(0,0)}function isSearch(e){return"header-search"===e.id}function getHeaderSearchInput(){return document.getElementById("search-input")}function jsSidebarNavInit(){var e=document.querySelector(".sidebar-navigation"),t=document.querySelectorAll(".js-sidebarnavigation-toggle");e&&t&&(forCallbackLoop(t,function(t){t.addEventListener("touchstart",function(e){jsSidebarMenuToggle(e,t)}),t.addEventListener("click",function(e){jsSidebarMenuToggle(e,t)})}),forCallbackLoop(t,function(e){var t=e.closest(".menu__item");console.log(t),(t.classList.contains("current-menu-item")||t.classList.contains("current-menu-ancestor")||t.classList.contains("current_page_ancestor")||t.classList.contains("current_page_parent"))&&openSidebarMenu(e)}))}function jsSidebarMenuToggle(e,t){e.preventDefault();var n=t.closest(".menu__item");forCallbackLoop(n.parentElement.querySelectorAll(".menu__item.open"),function(e){n!==e&&closeSidebarMenu(e.querySelector(".js-sidebarnavigation-toggle"))}),(isMenuItemOpen(n)?closeSidebarMenu:openSidebarMenu)(t)}function closeSidebarMenu(e){e&&(e.closest(".menu__item").classList.remove("open"),e.setAttribute("aria-expanded","false"))}function openSidebarMenu(e){e&&(e.closest(".menu__item").classList.add("open"),e.setAttribute("aria-expanded","true"))}function jsMenuInit(){forCallbackLoop(document.querySelectorAll(".js-submenu-toggle"),function(t){t.addEventListener("touchstart",function(e){jsSubmenuToggle(e,t)}),t.addEventListener("click",function(e){jsSubmenuToggle(e,t)})}),forCallbackLoop(document.querySelectorAll("#main-menu .menu__item--parent > .link-wrap > a"),function(e){var t=e.closest(".menu__item--parent");e.addEventListener("mouseover",function(e){toggleMouseHoverClass(t,!0)}),t.addEventListener("mouseleave",function(e){toggleMouseHoverClass(t,!1)})}),document.addEventListener("click",closeAllSubmenus)}function jsSubmenuToggle(e,t){e.preventDefault();var n=t.closest(".menu__item");forCallbackLoop(n.parentElement.querySelectorAll(".menu__item.open"),function(e){n!==e&&closeSubmenu(e.querySelector(".js-submenu-toggle"))}),(isMenuItemOpen(n)?closeSubmenu:openSubmenu)(t)}function closeAllSubmenus(e){var t=document.getElementById("main-menu");t.contains(e.target)||forCallbackLoop(t.querySelectorAll(".menu__item.open"),function(e){closeSubmenu(e.querySelector(".js-submenu-toggle"))})}function isMenuItemOpen(e){return e.classList.contains("open")}function closeSubmenu(e){e&&(e.closest(".menu__item").classList.remove("open"),e.setAttribute("aria-expanded","false"))}function openSubmenu(e){e&&(e.closest(".menu__item").classList.add("open"),e.setAttribute("aria-expanded","true"))}function toggleMouseHoverClass(e,t){t?e.classList.add("menu__item--hover"):e.classList.remove("menu__item--hover")}function jsToggleInit(){var e=document.querySelectorAll(".js-toggle");if(0<e.length)for(var t=0;t<e.length;t++)jsToggleHandler(e[t])}function jsToggleHandler(e){e.addEventListener("click",jsToggleClickEvent)}function jsToggleClickEvent(e){e.preventDefault();e=e.currentTarget;null!=e&&jsToggleClick(e)}function jsToggleClick(e){var t=controlledElement(e);("false"===e.getAttribute("aria-expanded")?jsToggleOpen:jsToggleClose)(e,t)}function jsToggleOpen(e,t){closeOtherToggles(e),isModal(t)&&eventModalOpen(t),e.setAttribute("aria-expanded","true"),jsToggleSwapText(e,"expanded"),t.hidden=!1,t.classList.add("active"),isSearch(t)&&setFocus(getHeaderSearchInput()),ifControlsNoScroll(e)&&fixedDocumentBody()}function jsToggleClose(e,t){isModal(t)&&eventModalClose(t),e.setAttribute("aria-expanded","false"),t.hidden=!0,t.classList.remove("active"),jsToggleSwapText(e,"closed"),ifControlsNoScroll(e)&&scrollableDocumentBody(),e.focus()}function jsToggleSwapText(e,t){var n;e.hasAttribute("data-text")&&e.hasAttribute("data-text-expanded")&&(n=e.querySelector(".text"))&&(n.textContent="expanded"===t?e.getAttribute("data-text-expanded"):e.getAttribute("data-text")),e.hasAttribute("data-screen-reader-text")&&e.hasAttribute("data-screen-reader-text-expanded")&&(n=e.querySelector(".screen-reader-text"))&&(n.textContent="expanded"===t?e.getAttribute("data-screen-reader-text-expanded"):e.getAttribute("data-screen-reader-text"))}function ifControlsNoScroll(e){var t;return!!e.classList.contains("js-toggle-no-scroll")&&(t=e.hasAttribute("data-no-scroll-breakpoint")?parseInt(e.getAttribute("data-no-scroll-breakpoint"),10):0,"up"===(e.hasAttribute("data-no-scroll-limit")?e.getAttribute("data-no-scroll-limit"):"up")&&screen.width>t||screen.width<t)}function fixedDocumentBody(){document.body.style.position="fixed",document.body.style.top="-".concat(window.scrollY,"px")}jsInitModal(),jsScrollInit(),function(){var e=function(t){var e,n,o;if(t)return o=n=e=!1,{init:function(){e||(n=u(),t.toggle.addEventListener("click",r),t.toggle.addEventListener("focusin",i),t.toggle.addEventListener("focusout",s),e=!0)}};function r(e){u()?(t.toggle.setAttribute("aria-label",t.toggle.dataset.text),n=!1,document.removeEventListener("click",l),document.removeEventListener("keyup",a),t.form.removeEventListener("focusin",i),t.form.removeEventListener("focusout",s)):(document.addEventListener("click",l),document.addEventListener("keyup",a),t.form.addEventListener("focusin",i),t.form.addEventListener("focusout",s),t.toggle.setAttribute("aria-label",t.toggle.dataset.textExpanded.concat(" ",t.toggle.dataset.text.toLowerCase())),n=!0)}function l(e){e=e,d(t.container,e.target)||d(t.form,e.target)||d(t.toggle,e.target)||c()}function a(e){("Escape"===(e=e).key||e.keyCode&&27===e.keyCode)&&c()}function i(e){o=!0}function s(e){(e=e).relatedTarget&&o&&!d(t.form,e.relatedTarget)&&!d(t.toggle,e.relatedTarget)&&c()}function c(){n&&(t.toggle.click(),o=!1)}function u(){return"true"===t.toggle.getAttribute("aria-expanded")}function d(e,t){return e.isEqualNode(t)||e.contains(t)}}(function(){var e=document.getElementById("header-search");if(e){var t=document.getElementById(e.getAttribute("aria-labelledby")),n=e.querySelector(".search-form");if(t&&n)return{container:e,toggle:t,form:n}}}());e&&e.init()}(),jsSidebarNavInit(),jsMenuInit(),function(t){t(document).ready(function(){t(".table-of-contents a").on("click",function(){var e=t(t(this).attr("href"));e[0].setAttribute("tabindex",-1),e[0].focus()})})}(jQuery),jsToggleInit();var scrollY=document.body.style.top;function scrollableDocumentBody(){document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(scrollY||"0"))}function closeOtherToggles(e){var t=document.querySelectorAll('.js-toggle[aria-expanded="true"]');if(0<t.length)for(var n=0;n<t.length;n++)e!==t[n]&&jsToggleClick(t[n])}