"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function jsCloseInit(){var e=document.querySelectorAll(".js-close");if(0<e.length)for(var t=0;t<e.length;t++)jsCloseHandler(e[t])}function jsCloseHandler(e){e.addEventListener("click",jsCloseClick)}function jsCloseClick(e){e.preventDefault();var t,n,e=e.currentTarget;e&&(n=controllerElement(t=e.dataset.close?document.getElementById(e.dataset.close):e.parentElement),e)&&n&&jsToggleClose(n,t)}function setFocus(e){try{e.focus()}catch(e){}return document.activeElement===e}function firstFocusableChild(e){var t=e.querySelector(".menu li a");return t||e.querySelector("input")||e.firstElementChild}function lastFocusableChild(e){return e.lastElementChild}function focusFirstChild(e){for(var t=0;t<e.childNodes.length;t++)if(setFocus(e.childNodes[t])||focusFirstChild(e.childNodes[t]))return!0;return null}function controlledElement(e){return document.getElementById(e.getAttribute("aria-controls"))}function controllerElement(e){return e.id?document.querySelector('[aria-controls="'+e.id+'"]'):null}function jsEvent(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t}function forCallbackLoop(e,t){if(e&&0<e.length)for(var n=0;n<e.length;n++)t(e[n],n)}function helsinkiGalleryLightbox(e){var r=e.strings,a=e.icons,i=null,s=null;function l(e){var t=function(e){if(e.classList.contains("wp-block-image")||e.classList.contains("wp-caption")&&e.querySelector("img"))return[e];return e.querySelectorAll(".blocks-gallery-item figure, figure .wp-block-image, .gallery-item")}(e);if(0!==t.length&&function(e){if(e.classList.contains("wp-block-image")||e.classList.contains("wp-caption")&&e.querySelector("img")){var t=e.querySelector("a");if(t)for(var n=t.getAttribute("href"),o=["jpg","jpg/","png","png/","webp","webp/"],l=0;l<o.length;l++)if(n.endsWith(o[l]))return t;return}return e.querySelector(".blocks-gallery-item > figure > a, figure.wp-block-image > a, .gallery-item > .gallery-icon > a")}(e)){for(var n=t,o=0;o<n.length;o++){l=void 0;var l=n[o];l=l.querySelector("a");l&&l.addEventListener("click",c)}t=function(e,t){var n=h("div",["lightbox"]),o=h("div",["lightbox__content"]),l=function(e,t){e=document.createElement(e);return e.innerHTML=t,e}("h2",r.lightboxTitle),e=function(e){if(e.id)return"lightbox-"+e.id;return"lightbox-"+(Date.now()+e.offsetTop+e.clientHeight+e.childElementCount)}(e);n.id=e,l.id=e+"-title",l.classList.add("screen-reader-text"),n.setAttribute("role","dialog"),n.setAttribute("aria-modal","true"),n.setAttribute("aria-labelledby",l.id),E(n,!0),o.append(l),o.append(function(e){for(var t=h("div",["lightbox__images"]),n=0;n<e.length;n++)t.append(function(e){var t=document.createElement("figure"),n=e.querySelector("img"),e=e.querySelector("figcaption");t.append(n.cloneNode()),e&&t.append(e.cloneNode(!0));return E(t,!0),t}(e[n]));return t}(t)),1<t.length&&(o.append(function(){var e=h("div",["lightbox__navigation"]);return e.append(j("prev",a.prev,r.prev,p)),e.append(j("next",a.next,r.next,g)),e}()),o.classList.add("has-navigation"));return o.append(function(e){var t=h("button",["lightbox__close","button-reset"]),n=h("span",["screen-reader-text"]);return t.id="close-"+e,t.type="button",n.innerHTML=r.close,t.setAttribute("aria-controls",e),k(t,!1),t.addEventListener("click",f),t.append(n),t.innerHTML+=a.close,t}(e)),n.append(o),n}(e,t);t.addEventListener("click",u),e.setAttribute("data-lightbox-id",t.id),e.after(t),S(e,"has-lightbox",!0)}}function c(e){e.preventDefault(),t=e.currentTarget,t=t.closest(".wp-block-gallery, .gallery")?t.closest(".wp-block-gallery, .gallery"):t.closest("figure"),t=document.getElementById(t.getAttribute("data-lightbox-id")),o=e.currentTarget.firstElementChild,e=e.currentTarget,i&&i!==t&&m(i),n=y(t),o=o?function(e,t){e=e.querySelector('.lightbox__images img[src="'+t+'"]');return e?e.parentElement:null}(t,o.src):null,v(n,o),E(t,!1),M(t,!0),k(b(t),!0),s=e;var t,n=i=t,o=n.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),l=o[0],r=o[o.length-1];l.focus(),n.addEventListener("keydown",n.kd=function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===l&&(r.focus(),e.preventDefault()):document.activeElement===r&&(l.focus(),e.preventDefault()))})}function u(e){e.target===i&&m(i)}function d(e){i&&("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&m(i)}function f(e){e.preventDefault(),m(e.target.closest(".lightbox"))}function g(e){e.preventDefault(),i&&((e=y(i))?e.nextElementSibling?v(e,e.nextElementSibling):v(e,t(i)):v(null,t(i)))}function p(e){e.preventDefault(),i&&((e=y(i))?e.previousElementSibling?v(e,e.previousElementSibling):v(e,n(i)):v(null,n(i)))}function m(e){var t;E(e,!0),M(e,!1),k(b(e),!1),v(y(e),null),e=s,(t=i).removeEventListener("keydown",t.kd),e.focus(),s=i=null}function v(e,t){e&&(M(e,!1),E(e,!0)),t&&(M(t,!0),E(t,!1),e=t.closest(".lightbox__content"),t=t.firstElementChild.naturalWidth,e.style.maxWidth=t+"px")}function b(e){return e.querySelector(".lightbox__close")}function y(e){return e.querySelector(".lightbox__images .is-active")}function t(e){return e.querySelector(".lightbox__images figure")}function n(e){e=e.querySelectorAll(".lightbox__images figure");return e[e.length-1]}function h(e,t){var n,e=document.createElement(e);return(n=e.classList).add.apply(n,_toConsumableArray(t)),e}function j(e,t,n,o){var e=h("button",["lightbox__"+e,"hds-button","hds-button--small"]),l=h("span",["screen-reader-text"]);return e.type="button",l.innerHTML=n,e.addEventListener("click",o),e.append(l),e.innerHTML+=t,e}function S(e,t,n){n?e.classList.add(t):e.classList.remove(t)}function M(e,t){S(e,"is-active",t)}function k(e,t){t?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")}function E(e,t){e.hidden=!!t}return{init:function(e,t){if(0!==e.length||0!==t.length){for(var n=0;n<e.length;n++)l(e[n]);for(var o=0;o<t.length;o++)l(t[o]);document.addEventListener("keydown",d)}}}}jsCloseInit();var HelsinkiGalleryLightbox=helsinkiGalleryLightbox(helsinkiTheme);function jsLoadMoreInit(){var e=document.querySelectorAll(".js-load-more");if(0<e.length)for(var t=0;t<e.length;t++)jsLoadMoreHandler(e[t])}function jsLoadMoreHandler(e){e.addEventListener("click",jsLoadMore)}function jsLoadMore(e){e.preventDefault();var t=e.currentTarget;if(t.disabled)return!1;t.disabled=!0;var n,o,l=document.querySelector(t.dataset.loadMoreTarget);return!!l&&!!(e=JSON.parse(t.dataset.loadMore))&&(n=t.dataset.page,o={action:e.action,nonce:e.nonce,query:e.query,page:n,type:l.classList.contains("grid")?"grid":"default",offset:t.getAttribute("data-offset"),per_page:t.getAttribute("data-per-page"),is_front_page:e.is_front_page,is_home:e.is_home},void jQuery.post(e.endpoint,o,function(e){e.success?(l.insertAdjacentHTML("beforeend",e.data.html),eventLoadMoreRendered(l),n++,t.setAttribute("data-page",n),e.data.end?t.style.display="none":t.disabled=!1,l.children[l.children.length-e.data.count].querySelector("a").focus()):t.style.display="none"}))}function eventLoadMoreRendered(e){var t=jsEvent("loadMoreRendered");e.dispatchEvent(t)}HelsinkiGalleryLightbox.init(document.querySelectorAll(".wp-block-gallery, .gallery"),document.querySelectorAll(":not(.wp-block-gallery, .gallery) > .wp-block-image, .wp-caption")),jsLoadMoreInit();var jsModal={currentModal:null,currentTrigger:null,firstFocusable:null,lastFocusable:null};function jsInitModal(){var e=document.querySelectorAll(".js-modal");if(0<e.length){document.addEventListener("keydown",jsCloseModalOnEsc);for(var t=0;t<e.length;t++)jsModalHandler(e[t])}}function jsModalHandler(e){e.addEventListener("modalOpen",jsModalOpened),e.addEventListener("modalClose",jsModalClosed)}function jsModalTrapFocus(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===jsModal.firstFocusable&&(jsModal.lastFocusable.focus(),e.preventDefault()):document.activeElement===jsModal.lastFocusable&&(jsModal.firstFocusable.focus(),e.preventDefault()))}function jsModalOpened(e){jsModal.currentModal=e.currentTarget,jsModal.currentTrigger=controllerElement(e.currentTarget),jsModal.firstFocusable=firstFocusableChild(jsModal.currentModal),jsModal.lastFocusable=lastFocusableChild(jsModal.currentModal),jsModal.currentModal.addEventListener("keydown",jsModalTrapFocus)}function jsModalClosed(e){jsModal.currentModal.removeEventListener("keydown",jsModalTrapFocus),setFocus(jsModal.currentTrigger),jsModal.currentModal=null,jsModal.currentTrigger=null,jsModal.firstFocusable=null,jsModal.lastFocusable=null}function jsCloseModal(e){var t=controllerElement(e);t?jsToggleClose(t,e):e.classList.remove("active")}function jsCloseModalOnEsc(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&jsCloseActiveModals()}function jsCloseActiveModals(){var e=document.querySelectorAll(".modal.active");if(0<e.length)for(var t=0;t<e.length;t++)jsCloseModal(e[t])}function isModal(e){return e.classList.contains("modal")}function eventModalOpen(e){var t=jsEvent("modalOpen");e.dispatchEvent(t)}function eventModalClose(e){var t=jsEvent("modalClose");e.dispatchEvent(t)}function helsinkiNotifications(){function r(e){return"helsinki_notification_"+e.id}function a(e){e.preventDefault();var t,e=e.currentTarget.closest(".notification");t=r(e),sessionStorage.setItem(t,"closed"),e.remove()}return{init:function(e){if(e)for(var t=e.querySelectorAll(".notification"),n=0;n<t.length;n++){var o=t[n].querySelector(".close"),l=r(t[n]);"closed"===sessionStorage.getItem(l)?t[n].remove():o.addEventListener("click",a)}}}}jsInitModal();var HelsinkiNotifications=helsinkiNotifications();function jsScrollInit(){var e=document.querySelectorAll(".js-scroll");if(0<e.length)for(var t=0;t<e.length;t++)jsScrollHandler(e[t])}function jsScrollHandler(e){e.classList.contains("top")&&e.addEventListener("click",jsScrollTop)}function jsScrollTop(e){e.preventDefault(),window.scroll(0,0)}function jsMenuInit(){forCallbackLoop(document.querySelectorAll(".js-submenu-toggle"),function(t){t.addEventListener("touchstart",function(e){jsSubmenuToggle(e,t)}),t.addEventListener("click",function(e){jsSubmenuToggle(e,t)})}),forCallbackLoop(document.querySelectorAll("#main-menu .menu__item--parent > .link-wrap > a"),function(e){var t=e.closest(".menu__item--parent");e.addEventListener("mouseover",function(e){toggleMouseHoverClass(t,!0)}),t.addEventListener("mouseleave",function(e){toggleMouseHoverClass(t,!1)})}),document.addEventListener("click",closeAllSubmenus)}function jsSubmenuToggle(e,t){e.preventDefault();var n=t.closest(".menu__item");forCallbackLoop(n.parentElement.querySelectorAll(".menu__item.open"),function(e){n!==e&&closeSubmenu(e.querySelector(".js-submenu-toggle"))}),(isMenuItemOpen(n)?closeSubmenu:openSubmenu)(t)}function closeAllSubmenus(e){var t=document.getElementById("main-menu");t.contains(e.target)||forCallbackLoop(t.querySelectorAll(".menu__item.open"),function(e){closeSubmenu(e.querySelector(".js-submenu-toggle"))})}function isMenuItemOpen(e){return e.classList.contains("open")}function closeSubmenu(e){e&&(e.closest(".menu__item").classList.remove("open"),e.setAttribute("aria-expanded","false"))}function openSubmenu(e){e&&(e.closest(".menu__item").classList.add("open"),e.setAttribute("aria-expanded","true"))}function toggleMouseHoverClass(e,t){t?e.classList.add("menu__item--hover"):e.classList.remove("menu__item--hover")}function jsToggleInit(){var e=document.querySelectorAll(".js-toggle");if(0<e.length)for(var t=0;t<e.length;t++)jsToggleHandler(e[t])}function jsToggleHandler(e){e.addEventListener("click",jsToggleClickEvent)}function jsToggleClickEvent(e){e.preventDefault();e=e.currentTarget;null!=e&&jsToggleClick(e)}function jsToggleClick(e){var t=controlledElement(e);("false"===e.getAttribute("aria-expanded")?jsToggleOpen:jsToggleClose)(e,t)}function jsToggleOpen(e,t){closeOtherToggles(e),isModal(t)&&eventModalOpen(t),e.setAttribute("aria-expanded","true"),jsToggleSwapText(e,"expanded"),t.hidden=!1,t.classList.add("active"),ifControlsNoScroll(e)&&fixedDocumentBody()}function jsToggleClose(e,t){isModal(t)&&eventModalClose(t),e.setAttribute("aria-expanded","false"),t.hidden=!0,t.classList.remove("active"),jsToggleSwapText(e,"closed"),ifControlsNoScroll(e)&&scrollableDocumentBody(),e.focus()}function jsToggleSwapText(e,t){var n;e.hasAttribute("data-text")&&e.hasAttribute("data-text-expanded")&&(n=e.querySelector(".text"))&&(n.textContent="expanded"===t?e.getAttribute("data-text-expanded"):e.getAttribute("data-text"))}function ifControlsNoScroll(e){var t;return!!e.classList.contains("js-toggle-no-scroll")&&(t=e.hasAttribute("data-no-scroll-breakpoint")?parseInt(e.getAttribute("data-no-scroll-breakpoint"),10):0,"up"===(e.hasAttribute("data-no-scroll-limit")?e.getAttribute("data-no-scroll-limit"):"up")&&screen.width>t||screen.width<t)}function fixedDocumentBody(){document.body.style.position="fixed",document.body.style.top="-".concat(window.scrollY,"px")}HelsinkiNotifications.init(document.querySelector("#main .notifications")),jsScrollInit(),jsMenuInit(),function(t){t(document).ready(function(){t(".table-of-contents a").on("click",function(){var e=t(t(this).attr("href"));e[0].setAttribute("tabindex",-1),e[0].focus()})})}(jQuery),jsToggleInit();var scrollY=document.body.style.top;function scrollableDocumentBody(){document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(scrollY||"0"))}function closeOtherToggles(e){var t=document.querySelectorAll('.js-toggle[aria-expanded="true"]');if(0<t.length)for(var n=0;n<t.length;n++)e!==t[n]&&jsToggleClick(t[n])}